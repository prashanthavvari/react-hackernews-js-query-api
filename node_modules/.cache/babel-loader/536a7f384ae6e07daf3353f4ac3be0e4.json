{"ast":null,"code":"import _regeneratorRuntime from \"/Users/prashan-5380/Home/examples/react/hackerapi/react-hackernews-js-query-api/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/prashan-5380/Home/examples/react/hackerapi/react-hackernews-js-query-api/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nCommonMethods = module.export({\n  fetchApi: function () {\n    var _fetchApi = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(url) {\n      var result, json;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(url);\n\n            case 2:\n              result = _context.sent;\n              _context.next = 5;\n              return result.json();\n\n            case 5:\n              json = _context.sent;\n              return _context.abrupt(\"return\", json);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function fetchApi(_x) {\n      return _fetchApi.apply(this, arguments);\n    }\n\n    return fetchApi;\n  }(),\n  nextPage: function () {\n    var _nextPage = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var nbPage, currentPage, result;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              nbPage = this.state.results.nbPages || 0;\n              currentPage = this.state.results.page + 1;\n\n              if (!(currentPage < nbPage)) {\n                _context2.next = 7;\n                break;\n              }\n\n              _context2.next = 5;\n              return this.fetchApi(this.state.api + '&page=' + currentPage);\n\n            case 5:\n              result = _context2.sent;\n              this.setState({\n                results: result\n              });\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function nextPage() {\n      return _nextPage.apply(this, arguments);\n    }\n\n    return nextPage;\n  }(),\n  componentWillMount: function () {\n    var _componentWillMount = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.fetchApi(this.state.api);\n\n            case 2:\n              result = _context3.sent;\n              this.setState({\n                results: result\n              });\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function componentWillMount() {\n      return _componentWillMount.apply(this, arguments);\n    }\n\n    return componentWillMount;\n  }()\n});","map":{"version":3,"sources":["/Users/prashan-5380/Home/examples/react/hackerapi/react-hackernews-js-query-api/src/common.js"],"names":["CommonMethods","module","export","fetchApi","url","fetch","result","json","nextPage","nbPage","state","results","nbPages","currentPage","page","api","setState","componentWillMount"],"mappings":";;AAAAA,aAAa,GAAGC,MAAM,CAACC,MAAP,CAAe;AACvBC,EAAAA,QADuB;AAAA;AAAA;AAAA,8CACdC,GADc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAERC,KAAK,CAACD,GAAD,CAFG;;AAAA;AAEvBE,cAAAA,MAFuB;AAAA;AAAA,qBAGVA,MAAM,CAACC,IAAP,EAHU;;AAAA;AAGvBA,cAAAA,IAHuB;AAAA,+CAIpBA,IAJoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAMvBC,EAAAA,QANuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOvBC,cAAAA,MAPuB,GAOd,KAAKC,KAAL,CAAWC,OAAX,CAAmBC,OAAnB,IAA8B,CAPhB;AAQvBC,cAAAA,WARuB,GAQT,KAAKH,KAAL,CAAWC,OAAX,CAAmBG,IAAnB,GAA0B,CARjB;;AAAA,oBASvBD,WAAW,GAAGJ,MATS;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAUN,KAAKN,QAAL,CAAc,KAAKO,KAAL,CAAWK,GAAX,GAAe,QAAf,GAAwBF,WAAtC,CAVM;;AAAA;AAUrBP,cAAAA,MAVqB;AAWzB,mBAAKU,QAAL,CAAc;AAACL,gBAAAA,OAAO,EAAEL;AAAV,eAAd;;AAXyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAcvBW,EAAAA,kBAduB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAeR,KAAKd,QAAL,CAAc,KAAKO,KAAL,CAAWK,GAAzB,CAfQ;;AAAA;AAevBT,cAAAA,MAfuB;AAgB3B,mBAAKU,QAAL,CAAc;AAACL,gBAAAA,OAAO,EAAEL;AAAV,eAAd;;AAhB2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,CAAf,CAAhB","sourcesContent":["CommonMethods = module.export ({\n  async fetchApi(url) {\n    let result = await fetch(url);\n    let json = await result.json();\n    return json;\n  },\n  async nextPage() {\n    let nbPage = this.state.results.nbPages || 0;\n    let currentPage = this.state.results.page + 1;\n    if (currentPage < nbPage) {\n      let result = await this.fetchApi(this.state.api+'&page='+currentPage);\n      this.setState({results: result});\n    }\n  },\n  async componentWillMount() {\n    let result = await this.fetchApi(this.state.api);\n    this.setState({results: result});\n  }\n});\n"]},"metadata":{},"sourceType":"module"}