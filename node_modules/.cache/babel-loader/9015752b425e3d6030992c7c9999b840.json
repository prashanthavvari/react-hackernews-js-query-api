{"ast":null,"code":"import _regeneratorRuntime from \"/Users/prashan-5380/Home/examples/react/hackerapi/react-hackernews-js-query-api/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/prashan-5380/Home/examples/react/hackerapi/react-hackernews-js-query-api/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nfunction fetchApi(_x) {\n  return _fetchApi.apply(this, arguments);\n}\n\nfunction _fetchApi() {\n  _fetchApi = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(url) {\n    var result, json;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetch(url);\n\n          case 2:\n            result = _context.sent;\n            _context.next = 5;\n            return result.json();\n\n          case 5:\n            json = _context.sent;\n            return _context.abrupt(\"return\", json);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n  return _fetchApi.apply(this, arguments);\n}\n\nfunction nextPage() {\n  return _nextPage.apply(this, arguments);\n}\n\nfunction _nextPage() {\n  _nextPage = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2() {\n    var nbPage, currentPage, result;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            nbPage = this.state.results.nbPages || 0;\n            currentPage = this.state.results.page + 1;\n\n            if (!(currentPage < nbPage)) {\n              _context2.next = 7;\n              break;\n            }\n\n            _context2.next = 5;\n            return this.fetchApi(this.state.api + '&page=' + currentPage);\n\n          case 5:\n            result = _context2.sent;\n            this.setState({\n              results: result\n            });\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n  return _nextPage.apply(this, arguments);\n}\n\nfunction componentWillMount() {\n  return _componentWillMount.apply(this, arguments);\n}\n\nfunction _componentWillMount() {\n  _componentWillMount = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee3() {\n    var result;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return this.fetchApi(this.state.api);\n\n          case 2:\n            result = _context3.sent;\n            this.setState({\n              results: result\n            });\n\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n  return _componentWillMount.apply(this, arguments);\n}\n\nmodule.exports = {\n  fetchApi: fetchApi,\n  nextPage: nextPage,\n  componentWillMount: componentWillMount\n};","map":{"version":3,"sources":["/Users/prashan-5380/Home/examples/react/hackerapi/react-hackernews-js-query-api/src/common.js"],"names":["fetchApi","url","fetch","result","json","nextPage","nbPage","state","results","nbPages","currentPage","page","api","setState","componentWillMount","module","exports"],"mappings":";;;SACiBA,Q;;;;;;;2BAAf,iBAAwBC,GAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACqBC,KAAK,CAACD,GAAD,CAD1B;;AAAA;AACME,YAAAA,MADN;AAAA;AAAA,mBAEmBA,MAAM,CAACC,IAAP,EAFnB;;AAAA;AAEMA,YAAAA,IAFN;AAAA,6CAGSA,IAHT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;SAKeC,Q;;;;;;;2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACMC,YAAAA,MADN,GACe,KAAKC,KAAL,CAAWC,OAAX,CAAmBC,OAAnB,IAA8B,CAD7C;AAEMC,YAAAA,WAFN,GAEoB,KAAKH,KAAL,CAAWC,OAAX,CAAmBG,IAAnB,GAA0B,CAF9C;;AAAA,kBAGMD,WAAW,GAAGJ,MAHpB;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAIuB,KAAKN,QAAL,CAAc,KAAKO,KAAL,CAAWK,GAAX,GAAe,QAAf,GAAwBF,WAAtC,CAJvB;;AAAA;AAIQP,YAAAA,MAJR;AAKI,iBAAKU,QAAL,CAAc;AAACL,cAAAA,OAAO,EAAEL;AAAV,aAAd;;AALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;SAQeW,kB;;;;;;;2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACqB,KAAKd,QAAL,CAAc,KAAKO,KAAL,CAAWK,GAAzB,CADrB;;AAAA;AACMT,YAAAA,MADN;AAEE,iBAAKU,QAAL,CAAc;AAACL,cAAAA,OAAO,EAAEL;AAAV,aAAd;;AAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAIFY,MAAM,CAACC,OAAP,GAAiB;AAAEhB,EAAAA,QAAQ,EAARA,QAAF;AAAYK,EAAAA,QAAQ,EAARA,QAAZ;AAAsBS,EAAAA,kBAAkB,EAAlBA;AAAtB,CAAjB","sourcesContent":["\n  async function fetchApi(url) {\n    let result = await fetch(url);\n    let json = await result.json();\n    return json;\n  }\n  async function nextPage() {\n    let nbPage = this.state.results.nbPages || 0;\n    let currentPage = this.state.results.page + 1;\n    if (currentPage < nbPage) {\n      let result = await this.fetchApi(this.state.api+'&page='+currentPage);\n      this.setState({results: result});\n    }\n  }\n  async function componentWillMount() {\n    let result = await this.fetchApi(this.state.api);\n    this.setState({results: result});\n  }\nmodule.exports = { fetchApi, nextPage, componentWillMount };\n"]},"metadata":{},"sourceType":"module"}