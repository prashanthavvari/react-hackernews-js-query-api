{"ast":null,"code":"import _regeneratorRuntime from \"/Users/prashan-5380/Home/examples/react/hackerapi/react-hackernews-js-query-api/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/prashan-5380/Home/examples/react/hackerapi/react-hackernews-js-query-api/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nfunction fetchApi(_x) {\n  return _fetchApi.apply(this, arguments);\n}\n\nfunction _fetchApi() {\n  _fetchApi = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(url) {\n    var result, json;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetch(url);\n\n          case 2:\n            result = _context.sent;\n            _context.next = 5;\n            return result.json();\n\n          case 5:\n            json = _context.sent;\n            return _context.abrupt(\"return\", json);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n  return _fetchApi.apply(this, arguments);\n}\n\n;\n\nfunction nextPage(_x2) {\n  return _nextPage.apply(this, arguments);\n}\n\nfunction _nextPage() {\n  _nextPage = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(power) {\n    var nbPage, currentPage, result;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            nbPage = power.state.results.nbPages || 0;\n            currentPage = power.state.results.page + 1;\n\n            if (!(currentPage < nbPage)) {\n              _context2.next = 7;\n              break;\n            }\n\n            _context2.next = 5;\n            return fetchApi(power.state.api + '&page=' + currentPage);\n\n          case 5:\n            result = _context2.sent;\n            power.setState({\n              results: result\n            });\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n  return _nextPage.apply(this, arguments);\n}\n\n;\n\nfunction openLink(url) {\n  document.querySelector('class=\"i-frame\"').innerHTML = \"<iframe src=\".concat(url, \"/>\");\n} // async function componentWillMount() {\n//   let result = await this.fetchApi(this.state.api);\n//   this.setState({results: result});\n// }\n\n\nexport { fetchApi, nextPage, openLink };","map":{"version":3,"sources":["/Users/prashan-5380/Home/examples/react/hackerapi/react-hackernews-js-query-api/src/common.js"],"names":["fetchApi","url","fetch","result","json","nextPage","power","nbPage","state","results","nbPages","currentPage","page","api","setState","openLink","document","querySelector","innerHTML"],"mappings":";;;SAAiBA,Q;;;;;;;2BAAf,iBAAwBC,GAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACqBC,KAAK,CAACD,GAAD,CAD1B;;AAAA;AACME,YAAAA,MADN;AAAA;AAAA,mBAEmBA,MAAM,CAACC,IAAP,EAFnB;;AAAA;AAEMA,YAAAA,IAFN;AAAA,6CAGSA,IAHT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAIC;;SACcC,Q;;;;;;;2BAAf,kBAAwBC,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AACMC,YAAAA,MADN,GACeD,KAAK,CAACE,KAAN,CAAYC,OAAZ,CAAoBC,OAApB,IAA+B,CAD9C;AAEMC,YAAAA,WAFN,GAEoBL,KAAK,CAACE,KAAN,CAAYC,OAAZ,CAAoBG,IAApB,GAA2B,CAF/C;;AAAA,kBAGMD,WAAW,GAAGJ,MAHpB;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAIuBP,QAAQ,CAACM,KAAK,CAACE,KAAN,CAAYK,GAAZ,GAAgB,QAAhB,GAAyBF,WAA1B,CAJ/B;;AAAA;AAIQR,YAAAA,MAJR;AAKIG,YAAAA,KAAK,CAACQ,QAAN,CAAe;AAACL,cAAAA,OAAO,EAAEN;AAAV,aAAf;;AALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAOC;;AACD,SAASY,QAAT,CAAkBd,GAAlB,EAAuB;AACrBe,EAAAA,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,EAA0CC,SAA1C,yBAAqEjB,GAArE;AACD,C,CACD;AACA;AACA;AACA;;;AACF,SAASD,QAAT,EAAmBK,QAAnB,EAA6BU,QAA7B","sourcesContent":["  async function fetchApi(url) {\n    let result = await fetch(url);\n    let json = await result.json();\n    return json;\n  };\n  async function nextPage(power) {\n    let nbPage = power.state.results.nbPages || 0;\n    let currentPage = power.state.results.page + 1;\n    if (currentPage < nbPage) {\n      let result = await fetchApi(power.state.api+'&page='+currentPage);\n      power.setState({results: result});\n    }\n  };\n  function openLink(url) {\n    document.querySelector('class=\"i-frame\"').innerHTML = `<iframe src=${url}/>`;\n  }\n  // async function componentWillMount() {\n  //   let result = await this.fetchApi(this.state.api);\n  //   this.setState({results: result});\n  // }\nexport { fetchApi, nextPage, openLink };\n"]},"metadata":{},"sourceType":"module"}