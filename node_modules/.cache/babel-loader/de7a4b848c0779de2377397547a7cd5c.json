{"ast":null,"code":"import _regeneratorRuntime from \"/Users/prashan-5380/Home/examples/react/hackerapi/react-hackernews-js-query-api/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/prashan-5380/Home/examples/react/hackerapi/react-hackernews-js-query-api/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar CommonMethods = module.export({\n  fetchApi: function () {\n    var _fetchApi = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(url) {\n      var result, json;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(url);\n\n            case 2:\n              result = _context.sent;\n              _context.next = 5;\n              return result.json();\n\n            case 5:\n              json = _context.sent;\n              return _context.abrupt(\"return\", json);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function fetchApi(_x) {\n      return _fetchApi.apply(this, arguments);\n    }\n\n    return fetchApi;\n  }(),\n  nextPage: function () {\n    var _nextPage = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var nbPage, currentPage, result;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              nbPage = this.state.results.nbPages || 0;\n              currentPage = this.state.results.page + 1;\n\n              if (!(currentPage < nbPage)) {\n                _context2.next = 7;\n                break;\n              }\n\n              _context2.next = 5;\n              return this.fetchApi(this.state.api + '&page=' + currentPage);\n\n            case 5:\n              result = _context2.sent;\n              this.setState({\n                results: result\n              });\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function nextPage() {\n      return _nextPage.apply(this, arguments);\n    }\n\n    return nextPage;\n  }(),\n  componentWillMount: function () {\n    var _componentWillMount = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.fetchApi(this.state.api);\n\n            case 2:\n              result = _context3.sent;\n              this.setState({\n                results: result\n              });\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function componentWillMount() {\n      return _componentWillMount.apply(this, arguments);\n    }\n\n    return componentWillMount;\n  }()\n});\nexport default CommonMethods;","map":{"version":3,"sources":["/Users/prashan-5380/Home/examples/react/hackerapi/react-hackernews-js-query-api/src/common.js"],"names":["CommonMethods","module","export","fetchApi","url","fetch","result","json","nextPage","nbPage","state","results","nbPages","currentPage","page","api","setState","componentWillMount"],"mappings":";;AAAA,IAAMA,aAAa,GAAGC,MAAM,CAACC,MAAP,CAAe;AAC7BC,EAAAA,QAD6B;AAAA;AAAA;AAAA,8CACpBC,GADoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEdC,KAAK,CAACD,GAAD,CAFS;;AAAA;AAE7BE,cAAAA,MAF6B;AAAA;AAAA,qBAGhBA,MAAM,CAACC,IAAP,EAHgB;;AAAA;AAG7BA,cAAAA,IAH6B;AAAA,+CAI1BA,IAJ0B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAM7BC,EAAAA,QAN6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAO7BC,cAAAA,MAP6B,GAOpB,KAAKC,KAAL,CAAWC,OAAX,CAAmBC,OAAnB,IAA8B,CAPV;AAQ7BC,cAAAA,WAR6B,GAQf,KAAKH,KAAL,CAAWC,OAAX,CAAmBG,IAAnB,GAA0B,CARX;;AAAA,oBAS7BD,WAAW,GAAGJ,MATe;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAUZ,KAAKN,QAAL,CAAc,KAAKO,KAAL,CAAWK,GAAX,GAAe,QAAf,GAAwBF,WAAtC,CAVY;;AAAA;AAU3BP,cAAAA,MAV2B;AAW/B,mBAAKU,QAAL,CAAc;AAACL,gBAAAA,OAAO,EAAEL;AAAV,eAAd;;AAX+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAc7BW,EAAAA,kBAd6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAed,KAAKd,QAAL,CAAc,KAAKO,KAAL,CAAWK,GAAzB,CAfc;;AAAA;AAe7BT,cAAAA,MAf6B;AAgBjC,mBAAKU,QAAL,CAAc;AAACL,gBAAAA,OAAO,EAAEL;AAAV,eAAd;;AAhBiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,CAAf,CAAtB;AAmBA,eAAeN,aAAf","sourcesContent":["const CommonMethods = module.export ({\n  async fetchApi(url) {\n    let result = await fetch(url);\n    let json = await result.json();\n    return json;\n  },\n  async nextPage() {\n    let nbPage = this.state.results.nbPages || 0;\n    let currentPage = this.state.results.page + 1;\n    if (currentPage < nbPage) {\n      let result = await this.fetchApi(this.state.api+'&page='+currentPage);\n      this.setState({results: result});\n    }\n  },\n  async componentWillMount() {\n    let result = await this.fetchApi(this.state.api);\n    this.setState({results: result});\n  }\n});\nexport default CommonMethods;\n"]},"metadata":{},"sourceType":"module"}